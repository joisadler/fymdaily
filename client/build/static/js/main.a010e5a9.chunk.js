(this["webpackJsonpfymdaily-client"]=this["webpackJsonpfymdaily-client"]||[]).push([[0],{230:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),s=a(4),u=a(8),i=a(28),l=a(90),m=a(19),d=a(10),f=Object(d.a)(),p=a(3),b=function(e){var t=Object(s.b)();return function(a,n){t(e(a,n))}},h=a(6),g=a(1),E=a.n(g),v=a(5),y=a(85),O=a.n(y).a.create({withCredentials:!0});function N(e){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(E.a.mark((function e(t){var a,n,r,o=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,O({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(JSON.stringify(n))),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&f.push("/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var C=function(e,t){return N(e,"GET",t)},w=function(e,t){return N(e,"POST",t)},x=function(e,t){return N(e,"PUT",t)},k=function(e,t){return N(e,"DELETE",t)};function S(e){return sessionStorage.setItem("user",JSON.stringify(e.user)),e}function F(){return(F=Object(v.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/login",t);case 2:if(!(n=e.sent).user){e.next=7;break}if(!a){e.next=6;break}return e.abrupt("return",S(n));case 6:case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(v.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/signup",t);case 2:if(!(n=e.sent).user){e.next=7;break}if(!a){e.next=6;break}return e.abrupt("return",S(n));case 6:case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={login:function(e,t){return F.apply(this,arguments)},logout:function(){return D.apply(this,arguments)},signup:function(e,t){return M.apply(this,arguments)},getUsers:function(){return C("user")},getById:function(e){return C("user/".concat(e))},remove:function(e){return k("user/".concat(e))},update:function(e){return x("user/".concat(e._id),e)}};var A={setMessage:function(e){return{type:"SET_MESSAGE",message:e}}},L=A.setMessage;function P(e){return{type:"SET_USER",user:e}}function T(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n,r,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=JSON.parse(sessionStorage.user),r=Object(h.a)(Object(h.a)({},n),e),t.next=5,_.update(r);case 5:o=t.sent,a(P(o)),f.push("/home"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("UserActions: err in updateUser",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}function I(e,t){return function(){var a=Object(v.a)(E.a.mark((function a(n){var r,o,c;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.login(e,t);case 2:r=a.sent,o=r.user,c=r.message,o?(n(P(o)),n(L("")),f.push("/home")):n(L(c));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function U(e,t){return function(){var a=Object(v.a)(E.a.mark((function a(n){var r,o,c;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.signup(e,t);case 2:r=a.sent,o=r.user,c=r.message,o?(n(P(o)),n(L("")),f.push("/user-settings")):n(L(c));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}var R=function(e){var t=e.setCurrentForm,a=Object(n.useState)(""),o=Object(p.a)(a,2),c=o[0],u=o[1],i=Object(n.useState)(""),l=Object(p.a)(i,2),m=l[0],d=l[1],f=Object(n.useState)(!1),h=Object(p.a)(f,2),g=h[0],E=h[1],v=Object(s.c)((function(e){return e.message.message})),y=Object(s.b)(),O=function(e){return y(A.setMessage(e))},N=b(I);return r.a.createElement("form",{className:"login-form",onSubmit:function(e){if(e.preventDefault(),!c||!m)return O("Please enter username/password!");N({usernameOrEmail:c,password:m},g),u(""),d("")}},r.a.createElement("p",{className:"login-message",style:{color:"red"}},v),r.a.createElement("fieldset",{className:"credentials"},r.a.createElement("input",{type:"text",name:"usernameOrEmail",value:c,onChange:function(e){return u(e.target.value)},onFocus:function(){return O("")},"aria-label":"Username or Email",placeholder:"Username or Email"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},onFocus:function(){return O("")},"aria-label":"Password",placeholder:"Password"})),r.a.createElement("section",{className:"form-options-section"},r.a.createElement("section",{className:"form-submit-section"},r.a.createElement("section",{className:"remember-me-section"},r.a.createElement("input",{type:"checkbox",id:"remember-me",defaultChecked:g,onChange:function(){E(!g)}}),r.a.createElement("label",{htmlFor:"remember-me"},"Remember Me")),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"login-button"},"Log In")),r.a.createElement("section",{className:"other-option-section"},"Don\u2019t have an account?",r.a.createElement("br",null),r.a.createElement("button",{className:"signup-option",type:"button",onClick:function(){t("signup"),O("")}},"Sign Up"))))},W=function(e){var t=e.setCurrentForm,a=Object(n.useState)(""),o=Object(p.a)(a,2),c=o[0],u=o[1],i=Object(n.useState)(""),l=Object(p.a)(i,2),m=l[0],d=l[1],f=Object(n.useState)(""),h=Object(p.a)(f,2),g=h[0],E=h[1],v=Object(n.useState)(""),y=Object(p.a)(v,2),O=y[0],N=y[1],j=Object(n.useState)(!1),C=Object(p.a)(j,2),w=C[0],x=C[1],k=Object(s.c)((function(e){return e.message.message})),S=Object(s.b)(),F=function(e){return S(A.setMessage(e))},M=b(U);return r.a.createElement("form",{className:"signup-form",onSubmit:function(e){return e.preventDefault(),c&&m&&g&&O?g!==O?F("Your password and confirmation password do not match!"):(M({username:c,email:m,password:g,confirmPassword:O},w),u(""),d(""),E(""),void N("")):F("All fields are required!")}},r.a.createElement("p",{className:"signup-message",style:{color:"red"}},k),r.a.createElement("fieldset",{className:"credentials"},r.a.createElement("input",{type:"text",name:"username",value:c,onChange:function(e){return u(e.target.value)},onFocus:function(){return F("")},"aria-label":"Username",placeholder:"Username"}),r.a.createElement("input",{type:"email",name:"email",value:m,onChange:function(e){return d(e.target.value)},onFocus:function(){return F("")},"aria-label":"Email",placeholder:"Email"}),r.a.createElement("input",{type:"password",name:"password",value:g,onChange:function(e){return E(e.target.value)},onFocus:function(){return F("")},"aria-label":"Password",placeholder:"Password"}),r.a.createElement("input",{type:"password",name:"confirmPassword",value:O,onChange:function(e){return N(e.target.value)},onFocus:function(){return F("")},"aria-label":"Confirm Password",placeholder:"Confirm Password"})),r.a.createElement("section",{className:"form-options-section"},r.a.createElement("section",{className:"form-submit-section"},r.a.createElement("section",{className:"remember-me-section"},r.a.createElement("input",{type:"checkbox",id:"remember-me",defaultChecked:w,onChange:function(){x(!w)}}),r.a.createElement("label",{htmlFor:"remember-me"},"Remember Me")),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"signup-button"},"Sign Up")),r.a.createElement("section",{className:"other-option-section"},"Already have an account?",r.a.createElement("br",null),r.a.createElement("button",{className:"login-option",type:"button",onClick:function(){t("login"),F("")}},"Log In"))))},q=function(){var e=(new Date).getFullYear(),t=2019===e?"2019":"2019-".concat(e);return r.a.createElement("footer",{className:"main-footer"},r.a.createElement("p",null,r.a.createElement("span",{className:"year"},"\xa9\xa0",t,",\xa0"),r.a.createElement("a",{href:"https://github.com/joisadler"},"Yossi Adler\xa0"),"and the FYMdaily\xa0",r.a.createElement("a",{href:"https://github.com/joisadler/fymdaily-client/graphs/contributors"},"contributors"),"."),r.a.createElement("a",{href:"https://platform.fatsecret.com"},r.a.createElement("img",{src:"https://platform.fatsecret.com/api/static/images/powered_by_fatsecret.svg",alt:"Powered by FatSecret",border:"0"})))},G=function(){var e=Object(n.useState)("login"),t=Object(p.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("h1",{className:"app-description"},r.a.createElement("em",null,"FYMdaily"),"\xa0\u2013 simple and minimalistic calorie/macronutrient tracker. Sign up today and start Fit Your Macros daily!"),r.a.createElement("div",{className:"form-container"},"login"===a?r.a.createElement(R,{setCurrentForm:o}):r.a.createElement(W,{setCurrentForm:o}))),r.a.createElement(q,null))};function B(e){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),e.next=3,C("history/".concat(t,"?date=").concat(a));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return a=e.sent,e.abrupt("return",a.eaten_foods);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),n={date:a,food:t},e.next=4,w("history/food",n);case 4:return r=e.sent,e.abrupt("return",r.eaten_foods);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),n={date:a,food:t},e.next=4,x("history/food",n);case 4:return r=e.sent,e.abrupt("return",r.eaten_foods);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),n={date:a,food:t},e.next=4,k("history/food",n);case 4:return r=e.sent,e.abrupt("return",r.eaten_foods);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return{type:"SET_EATEN_FOODS",eatenFoods:e}}function ee(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_START"}),t.next=4,Y(e);case 4:n=t.sent,a(Z(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("HistoryActions: err in loadEatenFoods",t.t0);case 11:return t.prev=11,a({type:"LOADING_DONE"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}function te(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:n=t.sent,a(Z(n)),f.push("/home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("HistoryActions: err in addEatenFood",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function ae(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V(e);case 3:n=t.sent,a(Z(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("HistoryActions: err in updateEatenFoods",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ne(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$(e);case 3:n=t.sent,a(Z(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("HistoryActions: err in deleteEatenFood",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var re={veryLight:1.2,light:1.4,moderate:1.6,heavy:1.8,veryHeavy:2},oe={fastWeightLoss:.75,normalWeightLoss:.85,weightMaintenance:1,massGain:1.15},ce={fastWeightLoss:1.6,normalWeightLoss:1.5,weightMaintenance:1.3,massGain:1.5},se=function(e,t){var a=e.bodyWeight,n=e.height,r=e.gender,o=e.waistCircumference,c=e.neckCircumference,s=e.hipCircumference,u=e.physicalActivityLevel,i=e.goal,l=re[u],m=oe[i],d=a*(100-("male"===r?495/(1.0324-.19077*Math.log10(o-c)+.15456*Math.log10(n))-450:495/(1.29579-.35004*Math.log10(o+s-c)+.221*Math.log10(n))-450))/100,f=(370+21.6*d)*l*m,p=d*ce[i],b=.3*f/9,h=(f-4*p-9*b)/4,g=t.reduce((function(e,t){return e+t.calories*t.weight/100}),0),E=t.reduce((function(e,t){return e+t.proteins*t.weight/100}),0),v=t.reduce((function(e,t){return e+t.fats*t.weight/100}),0),y=t.reduce((function(e,t){return e+t.carbs*t.weight/100}),0),O=f-g,N=g/f*100,j=E/p*100,C=v/b*100,w=y/h*100,x=4*E,k=9*v,S=4*y,F=x/f*100,M=k/f*100,D=S/f*100,_=(g-(x+k+S))/f*100>0?(g-(x+k+S))/f*100:0,A=100-F-M-D-_>0?100-F-M-D-_:0;return{dailyCalorieNeed:Math.round(f),dailyProteinNeed:Math.round(p),dailyFatNeed:Math.round(b),dailyCarbNeed:Math.round(h),currentCalories:Math.round(g),currentProteins:Math.round(E),currentFats:Math.round(v),currentCarbs:Math.round(y),currentCaloriesRemainder:Math.round(O),currentPercentOfDailyCalorieNeed:Math.round(N),currentPercentOfDailyProteinNeed:Math.round(j),currentPercentOfDailyFatNeed:Math.round(C),currentPercentOfDailyCarbNeed:Math.round(w),percentageOfProteinsInDailyCalorieNeed:Math.round(F),percentageOfFatsInDailyCalorieNeed:Math.round(M),percentageOfCarbsInDailyCalorieNeed:Math.round(D),percentageOfCaloriesRemainderInDailyCalorieNeed:Math.round(A),percentageOfEmptyCaloriesInDailyCalorieNeed:Math.round(_)}},ue=a(86),ie=function(e){var t=e.numbers,a=e.isAlternateContentShown,n=t.dailyCalorieNeed,o=t.currentCalories,c=t.currentCaloriesRemainder,s=t.currentPercentOfDailyCalorieNeed;return a?r.a.createElement("div",{className:"alternative-calories-chart-content"},r.a.createElement("p",{className:"alternative-calories-chart-content-headline"},"calories:"),r.a.createElement("p",{className:"alternative-calories-chart-content-number"},o,"/",n),r.a.createElement("p",{className:"alternative-calories-chart-content-percent"},s,"%")):r.a.createElement("div",{className:"calories-chart-content"},c>=0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"calories-headline"},"You still need to consume"),r.a.createElement("p",{className:"calories-number"},Number.isNaN(c)?"":c),r.a.createElement("h2",{className:"calories-subheadline"},"calories to fit your daily need")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"calories-headline"},"Today you have consumed"),r.a.createElement("p",{className:"calories-number",style:{color:"red"}},Number.isNaN(Math.abs(c))?"":Math.abs(c)),r.a.createElement("h2",{className:"calories-subheadline"},"calories more than your daily need")))},le=function(e){var t=e.numbers,a=e.isAlternateContentShown,o=e.toggleAlternateContent,c=t.percentageOfProteinsInDailyCalorieNeed,s=t.percentageOfFatsInDailyCalorieNeed,u=t.percentageOfCarbsInDailyCalorieNeed,i=t.percentageOfCaloriesRemainderInDailyCalorieNeed,l={labels:["Proteins","Fats","Carbs","Empty Calories","Still need to consume"],datasets:[{data:[c,s,u,t.percentageOfEmptyCaloriesInDailyCalorieNeed,i],backgroundColor:["#109618","#ff9900","#990099","#fff","#f2f2f2"],borderColor:"#000",borderWidth:1}]},m={maintainAspectRatio:!1,cutoutPercentage:80,legend:{display:!1},tooltips:{position:"nearest",titleFontFamily:"Montserrat, sans-serif",bodyFontFamily:"Montserrat, sans-serif",backgroundColor:"rgba(0, 0, 0, 0.9)",displayColors:!1,callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){var a=t.datasets[0],n=Object.values(a._meta)[0].total,r=Math.round(a.data[e.index]/n*100);return"".concat(r,"% of total calorie intake")}}}},d=Object(n.useRef)(null),f=Object(n.useState)(-1),b=Object(p.a)(f,2),h=b[0],g=b[1],E=function(){if(d.current){var e=Number(window.getComputedStyle(d.current).height.slice(0,-2));g(e)}};Object(n.useLayoutEffect)((function(){return E(),window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[h]);return r.a.createElement("article",{className:"calories-container",ref:d,onClick:o,onKeyDown:function(e){!function(e){var t=e.charCode||e.keyCode;32!==t&&13!==t||o()}(e)},role:"switch","aria-checked":"false",tabIndex:"0"},r.a.createElement(ue.Doughnut,{className:"calories-chart",data:l,options:m}),r.a.createElement("div",{className:"calories-chart-inner",style:{width:h,height:h}},r.a.createElement(ie,{numbers:t,isAlternateContentShown:a,toggleAlternateContent:o})))},me=a(87),de=a.n(me),fe=function(){var e=Object(s.c)((function(e){return e.system.isLoading}));return r.a.createElement("div",{className:"loader-container"},r.a.createElement(de.a,{size:15,margin:2,color:"green",loading:e}))},pe=a(24);var be={showMenu:function(){return{type:"SHOW_MENU"}},hideMenu:function(){return{type:"HIDE_MENU"}},toggleMenu:function(){return{type:"TOGGLE_MENU"}}},he=a(14),ge=a(15),Ee=a.n(ge);function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("food?name=".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("food?name=".concat(t,"&custom=true"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("food",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("food",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("food/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return{type:"SET_FOODS",foods:e}}function Me(e){return{type:"ADD_CUSTOM_FOOD",newFood:e}}function De(e){return{type:"DELETE_CUSTOM_FOOD",foodId:e}}function _e(e){return{type:"UPDATE_CUSTOM_FOOD",updatedFood:e}}function Ae(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je(e);case 3:n=t.sent,a(Me(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("FoodActions: err in addCustomFood",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Le(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we(e);case 3:n=t.sent,a(_e(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("FoodActions: err in updateCustomFoods",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Pe(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(e);case 3:a(De(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("FoodActions: err in deleteCustomFood",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}var Te=function(e){var t=e.isModalOpen,a=e.closeModal;Ee.a.setAppElement("#root");var o=Object(n.useState)(""),c=Object(p.a)(o,2),u=c[0],i=c[1],l=Object(n.useState)(""),m=Object(p.a)(l,2),d=m[0],f=m[1],b=Object(n.useState)(""),h=Object(p.a)(b,2),g=h[0],y=h[1],O=Object(n.useState)(""),N=Object(p.a)(O,2),j=N[0],C=N[1],w=Object(n.useState)(""),x=Object(p.a)(w,2),k=x[0],S=x[1],F=Object(n.useState)(""),M=Object(p.a)(F,2),D=M[0],_=M[1],A=Object(s.b)(),L=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(Ae({name:u,brand:d,calories:g,proteins:j,fats:k,carbs:D}));case 2:case"end":return e.stop()}}),e)}))));return r.a.createElement(Ee.a,{isOpen:t,onRequestClose:a,contentLabel:"Create food",className:"create-custom-food"},r.a.createElement("button",{className:"create-custom-food-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("h2",{className:"create-custom-food-header"},"Create new food"),r.a.createElement("form",{className:"create-custom-food-form",onSubmit:function(e){e.preventDefault(),L.execute(),a()}},r.a.createElement("input",{type:"text",className:"create-custom-food-input create-custom-food-name-input","aria-label":"name",value:u,placeholder:"Name",onChange:function(e){return i(e.target.value)},required:!0}),r.a.createElement("input",{type:"text",className:"create-custom-food-input create-custom-food-brand-input","aria-label":"brand",value:d,placeholder:"Brand",onChange:function(e){return f(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"1000",step:"any",className:"create-custom-food-input create-custom-food-calories-input","aria-label":"calories",value:g,placeholder:"Calories",onChange:function(e){return y(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"create-custom-food-input create-custom-food-proteins-input","aria-label":"proteins",value:j,placeholder:"Proteins",onChange:function(e){return C(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"create-custom-food-input create-custom-food-fats-input","aria-label":"fats",value:k,placeholder:"Fats",onChange:function(e){return S(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"create-custom-food-input create-custom-food-carbs-input","aria-label":"carbs",value:D,placeholder:"Carbs",onChange:function(e){return _(e.target.value)},required:!0}),r.a.createElement("div",{className:"create-custom-food-submit-button-container"},r.a.createElement("button",{type:"submit",className:"create-custom-food-submit-button"},"Create"))))},Ie=function(e){var t=e.to,a=e.icon,o=Object(s.b)(),c=Object(u.f)(),i=Object(n.useState)(!1),l=Object(p.a)(i,2),m=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"nav-button",onClick:function(){if("/menu"===t)return o(be.toggleMenu());"/create-custom-food"!==t?(o(be.hideMenu()),c.push(t)):d(!0)}},r.a.createElement(pe.a,{icon:a,className:"nav-button-icon"})),m&&r.a.createElement(Te,{isModalOpen:m,closeModal:function(e){e&&e.stopPropagation(),d(!1)}}))},Ue=[{to:"/eaten-food",icon:["fas","list"],key:1},{to:"/add-eaten-food",icon:["fas","utensils"],key:2},{to:"/home",icon:["fas","home"],key:3}],Re={"/account-settings":Ue,"/preferences":Ue,"/statistics":Ue,"/user-settings":Ue,"/home":[{to:"/eaten-food",icon:["fas","list"],key:1},{to:"/add-eaten-food",icon:["fas","utensils"],key:2},{to:"/menu",icon:["fas","cog"],key:3}],"/add-eaten-food":[{to:"/custom-foods",icon:["fas","folder-open"],key:1},{to:"/home",icon:["fas","home"],key:2},{to:"/menu",icon:["fas","cog"],key:3}],"/eaten-food":[{to:"/add-eaten-food",icon:["fas","utensils"],key:1},{to:"/home",icon:["fas","home"],key:2},{to:"/menu",icon:["fas","cog"],key:3}],"/custom-foods":[{to:"/create-custom-food",icon:["fas","folder-plus"],key:1},{to:"/home",icon:["fas","home"],key:2},{to:"/menu",icon:["fas","cog"],key:3}]},We=function(){var e=function(){var e=Object(u.g)().pathname;return Re[e].map((function(e){return r.a.createElement(Ie,{to:e.to,icon:e.icon,key:e.key})}))};return r.a.createElement("nav",{className:"main-navbar"},r.a.createElement(e,null))},qe=a(91),Ge=function(e){var t=e.numbers,a=e.nutrient,n="".concat(a[0].toUpperCase()).concat(a.slice(1)),o=t["currentPercentOfDaily".concat(n,"Need")];return r.a.createElement("div",{className:"macros-line"},r.a.createElement("div",{className:"macros-image-container ".concat(a,"-image-container")}),r.a.createElement("div",{className:"macros-progress-bar","data-tip":!0,"data-for":"".concat(a,"-tip")},r.a.createElement(qe.a,{id:"".concat(a,"-tip"),"aria-haspopup":"true",place:"top",type:"dark",effect:"float"},r.a.createElement("h2",{className:"tooltip-title"},"".concat(n,"s")),r.a.createElement("p",{className:"tooltip-text"},"".concat(o,"% of daily ").concat(a," need"))),r.a.createElement("div",{className:"percent-container ".concat(a,"-percent-container")},o,"%"),r.a.createElement("div",{className:"macros-progress-bar-inner ".concat(a,"-progress-bar-inner"),style:{width:"".concat(o>100?100:o,"%")}})))},Be=function(e){var t=e.numbers;return r.a.createElement("section",{className:"macros-container"},r.a.createElement(Ge,{numbers:t,nutrient:"protein"}),r.a.createElement(Ge,{numbers:t,nutrient:"fat"}),r.a.createElement(Ge,{numbers:t,nutrient:"carb"}))},He=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],o=t[1],c=Object(s.c)((function(e){return e.user.loggedInUser})),u=Object(s.c)((function(e){return e.history.eatenFoods})),i=Object(s.c)((function(e){return e.system.isLoading})),l=Object(s.b)();Object(n.useEffect)((function(){l(ee(c._id))}),[c._id,l]);var m=u?se(c,u):{};return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},i?r.a.createElement(fe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{numbers:m,isAlternateContentShown:a,toggleAlternateContent:function(){o(!a)}}),r.a.createElement(Be,{numbers:m}))),r.a.createElement(We,null))},Ye=function(){var e=Object(s.c)((function(e){return e.user.loggedInUser})),t=Object(s.b)();Object(n.useEffect)((function(){var a;t((a=e._id,function(){var e=Object(v.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getById(a);case 3:n=e.sent,t(P(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("UserActions: err in loadUser",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[e._id,t]);var a=e._id,o=e.username,c=e.height||"",u=e.bodyWeight||"",i=e.gender||"male",l=e.hipCircumference||"",m=e.waistCircumference||"",d=e.neckCircumference||"",f=e.physicalActivityLevel||"moderate",b=e.goal||"normalWeightLoss",h=""!==e.height,g=Object(n.useState)(c),y=Object(p.a)(g,2),O=y[0],N=y[1],j=Object(n.useState)(u),C=Object(p.a)(j,2),w=C[0],x=C[1],k=Object(n.useState)(i),S=Object(p.a)(k,2),F=S[0],M=S[1],D=Object(n.useState)(l),A=Object(p.a)(D,2),L=A[0],I=A[1],U=Object(n.useState)(m),R=Object(p.a)(U,2),W=R[0],q=R[1],G=Object(n.useState)(d),B=Object(p.a)(G,2),H=B[0],Y=B[1],J=Object(n.useState)(f),K=Object(p.a)(J,2),z=K[0],V=K[1],X=Object(n.useState)(b),$=Object(p.a)(X,2),Q=$[0],Z=$[1],ee=function(e){var t=e.value;!function(e){switch(e){case"height":return N;case"bodyWeight":return x;case"gender":return M;case"hipCircumference":return I;case"waistCircumference":return q;case"neckCircumference":return Y;case"physicalActivityLevel":return V;case"goal":return Z}}(e.dataset.name)(t)},te=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(T({_id:a,username:o,height:O,bodyWeight:w,gender:F,hipCircumference:L,waistCircumference:W,neckCircumference:H,physicalActivityLevel:z,goal:Q}));case 2:case"end":return e.stop()}}),e)}))));return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("header",null,r.a.createElement("h1",{className:"page-title"},h?"Hey, ".concat(o,"!"):"Welcome, ".concat(o,"!")),r.a.createElement("h2",{className:"user-settings-page-subtitle"},h?"We advise you to update this data at least once a month (this is important for the correct work with your weight):":"Please enter the following data (this is necessary for the application to work correctly):")),r.a.createElement("form",{className:"user-settings-form",onSubmit:function(e){e.preventDefault(),te.execute()}},r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-height-input",className:"user-settings-input-label"},"Height:*"),r.a.createElement("input",{type:"number",id:"user-settings-height-input",className:"user-settings-input",placeholder:"Number in cm",value:O,"data-name":"height",onChange:function(e){return ee(e.target)},min:"0",max:"300",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-weight-input",className:"user-settings-input-label"},"Weight:*"),r.a.createElement("input",{type:"number",id:"user-settings-weight-input",className:"user-settings-input",placeholder:"Number in kg",value:w,"data-name":"bodyWeight",onChange:function(e){return ee(e.target)},min:"0",max:"500",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-gender-input",className:"user-settings-input-label"},"Gender:*"),r.a.createElement("select",{id:"user-settings-gender-input",className:"user-settings-input",value:F,"data-name":"gender",onChange:function(e){return ee(e.target)},required:!0},r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"))),r.a.createElement("div",{className:"user-settings-input-container"},"female"===F&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"user-settings-hip-circumference-input",className:"user-settings-input-label"},"Hip Circumference:*"),r.a.createElement("input",{type:"number",id:"user-settings-hip-circumference-input",className:"user-settings-input",placeholder:"Number in cm",value:L,"data-name":"hipCircumference",onChange:function(e){return ee(e.target)},min:"0",max:"500",step:"any",required:!0}))),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-waist-circumference-input",className:"user-settings-input-label"},"Waist Circumference:*"),r.a.createElement("input",{type:"number",id:"user-settings-waist-circumference-input",className:"user-settings-input",placeholder:"Number in cm",value:W,"data-name":"waistCircumference",onChange:function(e){return ee(e.target)},min:"0",max:"300",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-neck-circumference-input",className:"user-settings-input-label"},"Neck Circumference:*"),r.a.createElement("input",{type:"number",id:"user-settings-neck-circumference-input",className:"user-settings-input",placeholder:"Number in cm",value:H,"data-name":"neckCircumference",onChange:function(e){return ee(e.target)},min:"0",max:"100",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-physical-activity-level-input",className:"user-settings-input-label"},"Physical Activity Level:*"),r.a.createElement("select",{id:"user-settings-physical-activity-level-input",className:"user-settings-input",value:z,"data-name":"physicalActivityLevel",onChange:function(e){return ee(e.target)},required:!0},r.a.createElement("option",{value:"veryLight"},"Very Light"),r.a.createElement("option",{value:"light"},"Light"),r.a.createElement("option",{value:"moderate"},"Moderate"),r.a.createElement("option",{value:"heavy"},"Heavy"),r.a.createElement("option",{value:"veryHeavy"},"Very Heavy"))),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-goal-input",className:"user-settings-input-label"},"Goal:*"),r.a.createElement("select",{id:"user-settings-goal-input",className:"user-settings-input",value:Q,"data-name":"goal",onChange:function(e){return ee(e.target)},required:!0},r.a.createElement("option",{value:"fastWeightLoss"},"Fast Weight Loss"),r.a.createElement("option",{value:"normalWeightLoss"},"Normal Weight Loss"),r.a.createElement("option",{value:"weightMaintenance"},"Weight Maintenance"),r.a.createElement("option",{value:"massGain"},"Mass Gain"))),r.a.createElement("button",{type:"submit",className:"user-settings-save-button"},"Save"))),h&&r.a.createElement(We,null))},Je=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Ke=a(38),ze=(a(83),function(e){var t=e.onClose,a=e.text,n=e.name,o=e.onYes,c=e.onNo,s=e.yesButtonText,u=e.noButtonText;return r.a.createElement("div",{className:"confirm-modal"},r.a.createElement("header",{className:"confirm-modal-header"},r.a.createElement("h2",{className:"confirm-modal-title"},a),r.a.createElement("h3",{className:"confirm-modal-item-name"},r.a.createElement("p",null,n,r.a.createElement("span",null,"?")))),r.a.createElement("section",{className:"confirm-modal-options"},r.a.createElement("button",{type:"button",className:"confirm-modal-no-button",onClick:function(){c&&c(),t()}},u),r.a.createElement("button",{type:"button",className:"confirm-modal-yes-button",onClick:function(){o&&o(),t()}},s)))});ze.defaultProps={text:"Are you shure",name:null,onYes:null,onNo:null,yesButtonText:"Yes",noButtonText:"No"};var Ve=ze,Xe=function(e){var t=e.isModalOpen,a=e.closeModal,o=e._id,c=e.name,u=e.brand,i=e.calories,l=e.proteins,m=e.fats,d=e.carbs,f=e.previousWeight;Ee.a.setAppElement("#root");var b=Object(n.useState)(f),h=Object(p.a)(b,2),g=h[0],y=h[1],O=Object(s.b)(),N=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(ae({_id:o,name:c,brand:u,calories:i,proteins:l,fats:m,carbs:d,weight:g}));case 2:case"end":return e.stop()}}),e)})))),j=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(ne({_id:o}));case 2:case"end":return e.stop()}}),e)})))),C=function(e){var t=e.onClose;return r.a.createElement(Ve,{onClose:t,text:"Are you sure you wish to delete",name:c,onYes:function(){j.execute(),a()},yesButtonText:"Delete",noButtonText:"Return"})};return r.a.createElement(Ee.a,{isOpen:t,onRequestClose:a,contentLabel:"Edit eaten food",className:"edit-eaten-food-modal"},r.a.createElement("button",{className:"edit-eaten-food-modal-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("header",{className:"edit-eaten-food-modal-header"},r.a.createElement("h2",{className:"edit-eaten-food-modal-title"},c),r.a.createElement("h3",{className:"edit-eaten-food-modal-subtitle"},u)),r.a.createElement("div",{className:"edit-eaten-food-modal-info"},r.a.createElement("p",null,"Calories: ".concat(i*g/100)),r.a.createElement("p",null,"Proteins: ".concat(l*g/100)),r.a.createElement("p",null,"Fats: ".concat(m*g/100)),r.a.createElement("p",null,"Carbs: ".concat(d*g/100))),r.a.createElement("form",{id:"edit-eaten-food-modal-form",className:"edit-eaten-food-modal-form",onSubmit:function(e){e.preventDefault(),N.execute(),a()}},r.a.createElement("fieldset",{className:"edit-eaten-food-modal-weight-inputs"},r.a.createElement("legend",{className:"edit-eaten-food-modal-weight-legend"},"Weight:"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"edit-eaten-food-modal-weight-dec-button",onClick:function(){y(g<=10?0:g-10)}},"-"),r.a.createElement("input",{className:"edit-eaten-food-modal-weight-input","aria-label":"weight",type:"number",min:"0",max:"1000",step:"any",value:g,onChange:function(e){return y(e.target.value)}}),r.a.createElement("button",{type:"button",className:"edit-eaten-food-modal-weight-inc-button",onClick:function(){y(g>=990?1e3:g+10)}},"+")))),r.a.createElement("div",{className:"edit-eaten-food-modal-options-container"},r.a.createElement("button",{type:"submit",form:"edit-eaten-food-modal-form",className:"edit-eaten-food-modal-submit-button"},"Save"),r.a.createElement("button",{type:"button","aria-label":"Delete eaten food",className:"edit-eaten-food-modal-delete-button",onClick:function(){Object(Ke.confirmAlert)({customUI:C})}},r.a.createElement(pe.a,{icon:["fas","trash"],className:"edit-eaten-food-delete-button-icon"}))))},$e=function(e){var t=e.food,a=t._id,o=t.name,c=t.brand,s=+t.calories,u=+t.proteins,i=+t.fats,l=+t.carbs,m=Math.round(+t.weight),d=Math.round(s*m/100),f=Math.round(u*m/100),b=Math.round(i*m/100),h=Math.round(l*m/100),g=Object(n.useState)(!1),E=Object(p.a)(g,2),v=E[0],y=E[1],O=function(){y(!0)};return r.a.createElement("li",{className:"eaten-food-card",onClick:O,onKeyDown:function(e){!function(e){13===(e.charCode||e.keyCode)&&O()}(e)},role:"option","aria-selected":"false"},r.a.createElement("h2",{className:"eaten-food-card-title"},r.a.createElement("bdi",null,o),r.a.createElement("bdi",null,"".concat(""!==c?", ".concat(c):"",", ")),"".concat(m,"g")),r.a.createElement("p",{className:"eaten-food-card-info"},"Calories: ".concat(d),r.a.createElement("br",null),"Proteins: ".concat(f," | Fats: ").concat(b," | Carbs: ").concat(h)),v&&r.a.createElement(Xe,{isModalOpen:v,closeModal:function(e){e&&e.stopPropagation(),y(!1)},_id:a,name:o,brand:c,calories:s,proteins:u,fats:i,carbs:l,previousWeight:m}))},Qe=function(){var e=Object(s.c)((function(e){return e.user.loggedInUser})),t=Object(s.c)((function(e){return e.history.eatenFoods})),a=Object(s.c)((function(e){return e.system.isLoading})),o=Object(s.b)();Object(n.useEffect)((function(){o(ee(e._id))}),[e._id,o]);var c=Object(n.useState)({totalCalories:0,totalProteins:0,totalFats:0,totalCarbs:0}),u=Object(p.a)(c,2),i=u[0],l=u[1],m=i.totalCalories,d=i.totalProteins,f=i.totalFats,b=i.totalCarbs;return Object(n.useEffect)((function(){if(t){var e=t.reduce((function(e,t){var a=+t.calories,n=+t.proteins,r=+t.fats,o=+t.carbs,c=Math.round(+t.weight),s=Math.round(a*c/100),u=Math.round(n*c/100),i=Math.round(r*c/100),l=Math.round(o*c/100);return e.totalCalories+=s,e.totalProteins+=u,e.totalFats+=i,e.totalCarbs+=l,e}),{totalCalories:0,totalProteins:0,totalFats:0,totalCarbs:0});l(e)}}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("h1",{className:"page-title"},"Eaten foods"),r.a.createElement("ul",{className:"eaten-food-cards"},a?r.a.createElement(fe,null):r.a.createElement(r.a.Fragment,null,t&&t.map((function(e){return r.a.createElement($e,{key:Je()+e.name,food:e})})),r.a.createElement("li",{className:"eaten-food-total"},r.a.createElement("h2",{className:"eaten-food-total-title"},"Total:"),r.a.createElement("p",null,"Calories: ".concat(m),r.a.createElement("br",null),"Proteins: ".concat(d," | Fats: ").concat(f," | Carbs: ").concat(b)))))),r.a.createElement(We,null))},Ze=a(39),et=function(){var e=Object(s.c)((function(e){return e.food.foods})),t=Object(s.b)(),a=Object(u.g)().pathname,r=Object(n.useState)(""),o=Object(p.a)(r,2),c=o[0],i=o[1];return Object(n.useEffect)((function(){t(function(e,t){return function(){var a=Object(v.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n({type:"LOADING_START"}),"/custom-foods"!==t){a.next=8;break}return a.next=5,Oe(e);case 5:a.t0=a.sent,a.next=11;break;case 8:return a.next=10,ve(e);case 10:a.t0=a.sent;case 11:r=a.t0,n(Fe(r)),a.next=18;break;case 15:a.prev=15,a.t1=a.catch(0),console.log("FoodActions: err in loadCustomFoods",a.t1);case 18:return a.prev=18,n({type:"LOADING_DONE"}),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[0,15,18,21]])})));return function(e){return a.apply(this,arguments)}}()}(c,a))}),[c,t,a]),{inputText:c,setInputText:i,foods:e}},tt=function(e){var t=e.isModalOpen,a=e.closeModal,o=e.name,c=e.brand,u=e.calories,i=e.proteins,l=e.fats,m=e.carbs;Ee.a.setAppElement("#root");var d=Object(n.useState)(100),f=Object(p.a)(d,2),b=f[0],h=f[1],g=Object(s.b)(),y=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(te({name:o,brand:c,calories:u,proteins:i,fats:l,carbs:m,weight:b}));case 2:case"end":return e.stop()}}),e)}))));return r.a.createElement(Ee.a,{isOpen:t,onRequestClose:a,contentLabel:"Add food",className:"add-eaten-food-modal"},r.a.createElement("button",{className:"add-eaten-food-modal-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("header",{className:"add-eaten-food-modal-header"},r.a.createElement("h2",{className:"add-eaten-food-modal-title"},o),r.a.createElement("h3",{className:"add-eaten-food-modal-subtitle"},c)),r.a.createElement("div",{className:"add-eaten-food-modal-info"},r.a.createElement("p",null,"Calories: ".concat(u*b/100)),r.a.createElement("p",null,"Proteins: ".concat(i*b/100)),r.a.createElement("p",null,"Fats: ".concat(l*b/100)),r.a.createElement("p",null,"Carbs: ".concat(m*b/100))),r.a.createElement("form",{id:"add-eaten-food-modal-form",className:"add-eaten-food-modal-form",onSubmit:function(e){e.preventDefault(),y.execute(),a()}},r.a.createElement("fieldset",{className:"add-eaten-food-modal-weight-inputs"},r.a.createElement("legend",{className:"add-eaten-food-modal-weight-legend"},"Weight:"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"add-eaten-food-modal-weight-dec-button",onClick:function(){h(b<=10?0:b-10)}},"-"),r.a.createElement("input",{className:"add-eaten-food-modal-weight-input","aria-label":"weight",type:"number",min:"0",max:"1000",step:"any",value:b,onChange:function(e){return h(e.target.value)}}),r.a.createElement("button",{type:"button",className:"add-eaten-food-modal-weight-inc-button",onClick:function(){h(b>=990?1e3:b+10)}},"+")))),r.a.createElement("button",{type:"submit",form:"add-eaten-food-modal-form",className:"add-eaten-food-modal-submit-button"},"Add"))},at=function(e){var t=e.food,a=t.name,o=t.brand,c=Math.round(+t.calories),s=Math.round(+t.proteins),u=Math.round(+t.fats),i=Math.round(+t.carbs),l=Object(n.useState)(!1),m=Object(p.a)(l,2),d=m[0],f=m[1],b=function(){f(!0)};return r.a.createElement("li",{className:"add-eaten-food-card",onClick:b,onKeyDown:function(e){!function(e){13===(e.charCode||e.keyCode)&&b()}(e)},role:"option","aria-selected":"false"},r.a.createElement("h2",{className:"add-eaten-food-card-title"},"".concat(a).concat(""!==o?", ".concat(o):"")),r.a.createElement("p",{className:"add-eaten-food-card-info"},"Calories: ".concat(c),r.a.createElement("br",null),"Proteins: ".concat(s," | Fats: ").concat(u," | Carbs: ").concat(i)),d&&r.a.createElement(tt,{isModalOpen:d,closeModal:function(e){e&&e.stopPropagation(),f(!1)},name:a,brand:o,calories:c,proteins:s,fats:u,carbs:i}))},nt=function(){var e=et(),t=e.inputText,a=e.setInputText,o=e.foods,c=Object(s.c)((function(e){return e.system.isLoading})),u=Object(n.useRef)(null);Object(n.useEffect)((function(){u.current.focus()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("header",{className:"options-container"},r.a.createElement("h1",{className:"page-title"},"Add eaten food"),r.a.createElement(Ze.DebounceInput,{minLength:0,type:"search",debounceTimeout:300,className:"add-eaten-food-search",placeholder:"Search food","aria-label":"Search food",value:t,inputRef:u,onChange:function(e){!function(e){var t=e.value;a(t)}(e.target)}})),r.a.createElement("ul",{className:"add-eaten-food-cards"},c?r.a.createElement(fe,null):o.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(at,{key:e._id?e._id:Je()+e.name,food:e})})))),r.a.createElement(We,null))},rt=function(e){var t=e.isModalOpen,a=e.closeModal,o=e._id,c=e.prevName,u=e.prevBrand,i=e.prevCalories,l=e.prevProteins,m=e.prevFats,d=e.prevCarbs;Ee.a.setAppElement("#root");var f=Object(n.useState)(c),b=Object(p.a)(f,2),h=b[0],g=b[1],y=Object(n.useState)(u),O=Object(p.a)(y,2),N=O[0],j=O[1],C=Object(n.useState)(i),w=Object(p.a)(C,2),x=w[0],k=w[1],S=Object(n.useState)(l),F=Object(p.a)(S,2),M=F[0],D=F[1],_=Object(n.useState)(m),A=Object(p.a)(_,2),L=A[0],P=A[1],T=Object(n.useState)(d),I=Object(p.a)(T,2),U=I[0],R=I[1],W=Object(s.b)(),q=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(Le({_id:o,name:h,brand:N,calories:x,proteins:M,fats:L,carbs:U}));case 2:case"end":return e.stop()}}),e)})))),G=Object(he.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(Pe(o));case 1:case"end":return e.stop()}}),e)})))),B=function(e){var t=e.onClose;return r.a.createElement(Ve,{onClose:t,text:"Are you sure you wish to delete",name:h,onYes:function(){G.execute(),a()},yesButtonText:"Delete",noButtonText:"Return"})};return r.a.createElement(Ee.a,{isOpen:t,onRequestClose:a,contentLabel:"Edit food",className:"edit-custom-food"},r.a.createElement("button",{className:"edit-custom-food-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("h2",{className:"edit-custom-food-header"},"Edit food"),r.a.createElement("form",{className:"edit-custom-food-form",onSubmit:function(e){e.preventDefault(),q.execute(),a()}},r.a.createElement("input",{type:"text",className:"edit-custom-food-input edit-custom-food-name-input","aria-label":"name",value:h,placeholder:"Name",onChange:function(e){return g(e.target.value)},required:!0}),r.a.createElement("input",{type:"text",className:"edit-custom-food-input edit-custom-food-brand-input","aria-label":"brand",value:N,placeholder:"Brand",onChange:function(e){return j(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"1000",step:"any",className:"edit-custom-food-input edit-custom-food-calories-input","aria-label":"calories",value:x,placeholder:"Calories",onChange:function(e){return k(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"edit-custom-food-input edit-custom-food-proteins-input","aria-label":"proteins",value:M,placeholder:"Proteins",onChange:function(e){return D(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"edit-custom-food-input edit-custom-food-fats-input","aria-label":"fats",value:L,placeholder:"Fats",onChange:function(e){return P(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"edit-custom-food-input edit-custom-food-carbs-input","aria-label":"carbs",value:U,placeholder:"Carbs",onChange:function(e){return R(e.target.value)},required:!0}),r.a.createElement("div",{className:"edit-custom-food-submit-button-container"},r.a.createElement("button",{type:"submit",className:"edit-custom-food-submit-button"},"Save"),r.a.createElement("button",{type:"button","aria-label":"Delete eaten food",className:"edit-eaten-food-modal-delete-button",onClick:function(){Object(Ke.confirmAlert)({customUI:B})}},r.a.createElement(pe.a,{icon:["fas","trash"],className:"edit-eaten-food-delete-button-icon"})))))},ot=function(e){var t=e.food,a=t._id,o=t.name,c=t.brand,s=Math.round(+t.calories),u=Math.round(+t.proteins),i=Math.round(+t.fats),l=Math.round(+t.carbs),m=Object(n.useState)(!1),d=Object(p.a)(m,2),f=d[0],b=d[1],h=function(){b(!0)};return r.a.createElement("li",{className:"custom-food-card",onClick:h,onKeyDown:function(e){!function(e){13===(e.charCode||e.keyCode)&&h()}(e)},role:"option","aria-selected":"false"},r.a.createElement("h2",{className:"custom-food-card-title"},"".concat(o).concat(""!==c?", ".concat(c):"")),r.a.createElement("p",{className:"custom-food-card-info"},"Calories: ".concat(s),r.a.createElement("br",null),"Proteins: ".concat(u," | Fats: ").concat(i," | Carbs: ").concat(l)),f&&r.a.createElement(rt,{isModalOpen:f,closeModal:function(e){e&&e.stopPropagation(),b(!1)},_id:a,prevName:o,prevBrand:c,prevCalories:s,prevProteins:u,prevFats:i,prevCarbs:l}))},ct=function(){var e=et(),t=e.inputText,a=e.setInputText,o=e.foods,c=Object(s.c)((function(e){return e.system.isLoading})),u=Object(n.useRef)(null);Object(n.useEffect)((function(){u.current.focus()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("header",{className:"options-container"},r.a.createElement("h1",{className:"page-title"},"Custom Foods"),r.a.createElement(Ze.DebounceInput,{minLength:0,type:"search",debounceTimeout:300,className:"custom-foods-search","aria-label":"Search food",placeholder:"Search food",value:t,inputRef:u,onChange:function(e){!function(e){var t=e.value;a(t)}(e.target)}})),r.a.createElement("ul",{className:"custom-foods-cards"},c?r.a.createElement(fe,null):o.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(ot,{key:e._id,food:e})})))),r.a.createElement(We,null))},st=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},"Account Settings Page"),r.a.createElement(We,null))},ut=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},"Preferences Page"),r.a.createElement(We,null))},it=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},"Statistics Page"),r.a.createElement(We,null))},lt=a(16),mt=function(){var e=Object(s.c)((function(e){return e.settingsMenu.isShown})),t=Object(s.c)((function(e){return e.user.loggedInUser})).username,a=Object(s.b)(),n=Object(u.f)(),o=function(){a(be.hideMenu())};return r.a.createElement("aside",{className:"settings-menu ".concat(e?"settings-menu-shown":"")},r.a.createElement("header",{className:"settings-menu-header"},r.a.createElement("h2",{className:"settings-menu-title"},t),r.a.createElement("button",{className:"settings-menu-logout-button",type:"button",onClick:function(){o(),a(function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.logout();case 2:t(P(null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.push("/")},"aria-label":"Log out"})),r.a.createElement("nav",{className:"settings-menu-nav"},r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/user-settings",onClick:o},"User Settings"),r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/account-settings",onClick:o},"Account Settings"),r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/preferences",onClick:o},"Preferences"),r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/statistics",onClick:o},"Statistics")),r.a.createElement(q,null))};a(230);var dt=function(){var e=Object(u.g)().pathname;return r.a.createElement("div",{className:"App"},"/"!==e&&r.a.createElement(mt,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:G}),r.a.createElement(u.a,{path:"/home",component:He}),r.a.createElement(u.a,{path:"/eaten-food",component:Qe}),r.a.createElement(u.a,{path:"/add-eaten-food",component:nt}),r.a.createElement(u.a,{path:"/custom-foods",component:ct}),r.a.createElement(u.a,{path:"/user-settings",component:Ye}),r.a.createElement(u.a,{path:"/account-settings",component:st}),r.a.createElement(u.a,{path:"/preferences",component:ut}),r.a.createElement(u.a,{path:"/statistics",component:it})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ft=a(20),pt=a(89),bt={isLoading:!1},ht=null;sessionStorage.user&&(ht=JSON.parse(sessionStorage.user));var gt={loggedInUser:ht},Et={message:""},vt=a(40),yt={eatenFoods:null},Ot={isShown:!1},Nt={foods:[]},jt=Object(ft.c)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(h.a)(Object(h.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(h.a)(Object(h.a)({},e),{},{isLoading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return t.user?(sessionStorage.setItem("user",JSON.stringify(Object(h.a)({},t.user))),Object(h.a)(Object(h.a)({},e),{},{loggedInUser:Object(h.a)({},t.user)})):(sessionStorage.setItem("user",null),e);default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_MESSAGE":return Object(h.a)(Object(h.a)({},e),{},{message:t.message});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_EATEN_FOODS":return Object(h.a)(Object(h.a)({},e),{},{eatenFoods:t.eatenFoods});case"ADD_EATEN_FOOD":return Object(h.a)(Object(h.a)({},e),{},{eatenFoods:[].concat(Object(vt.a)(e.eatenFoods),[t.newFood])});default:return e}},settingsMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SHOW_MENU":case"HIDE_MENU":return Object(h.a)(Object(h.a)({},e),{},{isShown:!1});case"TOGGLE_MENU":return Object(h.a)(Object(h.a)({},e),{},{isShown:!e.isShown});default:return e}},food:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FOODS":return Object(h.a)(Object(h.a)({},e),{},{foods:t.foods});case"ADD_CUSTOM_FOOD":return Object(h.a)(Object(h.a)({},e),{},{foods:[].concat(Object(vt.a)(e.foods),[t.newFood])});case"UPDATE_CUSTOM_FOOD":return Object(h.a)(Object(h.a)({},e),{},{foods:e.foods.map((function(e){return e._id===t.updatedFood._id?t.updatedFood:e}))});case"DELETE_CUSTOM_FOOD":return Object(h.a)(Object(h.a)({},e),{},{foods:e.foods.filter((function(e){return e._id!==t.foodId}))});default:return e}}}),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ft.d,wt=Object(ft.e)(jt,Ct(Object(ft.a)(pt.a)));i.b.add(l.a,m.f,m.e,m.a,m.d,m.h,m.c,m.b,m.g),c.a.render(r.a.createElement(s.a,{store:wt},r.a.createElement(u.b,{history:f},r.a.createElement(dt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a(231)}},[[92,1,2]]]);
//# sourceMappingURL=main.a010e5a9.chunk.js.map