(this["webpackJsonpfymdaily-client"]=this["webpackJsonpfymdaily-client"]||[]).push([[0],{230:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),s=a(4),i=a(8),u=a(28),l=a(90),m=a(19),d=a(10),f=Object(d.a)(),p=a(3),b=function(e){var t=Object(s.b)();return function(a){t(e(a))}},h=a(6),g=a(1),E=a.n(g),v=a(5),y=a(85),O=a.n(y).a.create({withCredentials:!0});function N(e){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(E.a.mark((function e(t){var a,n,r,o=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,O({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(JSON.stringify(n))),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&f.push("/"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var w=function(e,t){return N(e,"GET",t)},C=function(e,t){return N(e,"POST",t)},k=function(e,t){return N(e,"PUT",t)},x=function(e,t){return N(e,"DELETE",t)};function S(){return(S=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/login",t);case 2:if(!(a=e.sent).user){e.next=5;break}return e.abrupt("return",a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/signup",t);case 2:if(!(a=e.sent).user){e.next=5;break}return e.abrupt("return",a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/logout");case 2:localStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={login:function(e){return S.apply(this,arguments)},logout:function(){return M.apply(this,arguments)},signup:function(e){return F.apply(this,arguments)},getUser:function(){return w("user")},getById:function(e){return w("user/".concat(e))},remove:function(e){return x("user/".concat(e))},update:function(e){return k("user/".concat(e._id),e)}};var _={setMessage:function(e){return{type:"SET_MESSAGE",message:e}}},A=_.setMessage;function L(e){return{type:"SET_USER",user:e}}function P(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n,r,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=JSON.parse(localStorage.user),r=Object(h.a)(Object(h.a)({},n),e),t.next=5,D.update(r);case 5:o=t.sent,a(L(o)),f.push("/home"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("UserActions: err in updateUser",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}function T(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n,r,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.login(e);case 2:n=t.sent,r=n.user,o=n.message,r?(a(L(r)),a(A("")),f.push("/home")):a(A(o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function U(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n,r,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.signup(e);case 2:n=t.sent,r=n.user,o=n.message,r?(a(L(r)),a(A("")),f.push("/user-settings")):a(A(o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var I=function(e){var t=e.setCurrentForm,a=Object(n.useState)(""),o=Object(p.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)(""),l=Object(p.a)(u,2),m=l[0],d=l[1],f=Object(s.c)((function(e){return e.message.message})),h=Object(s.b)(),g=function(e){return h(_.setMessage(e))},E=b(T);return r.a.createElement("form",{className:"login-form",onSubmit:function(e){if(e.preventDefault(),!c||!m)return g("Please enter username/password!");E({usernameOrEmail:c,password:m}),i(""),d("")}},r.a.createElement("p",{className:"login-message",style:{color:"red"}},f),r.a.createElement("fieldset",{className:"credentials"},r.a.createElement("input",{type:"text",name:"usernameOrEmail",value:c,onChange:function(e){return i(e.target.value)},onFocus:function(){return g("")},"aria-label":"Username or Email",placeholder:"Username or Email"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},onFocus:function(){return g("")},"aria-label":"Password",placeholder:"Password"})),r.a.createElement("section",{className:"form-options-section"},r.a.createElement("section",{className:"form-submit-section"},r.a.createElement("button",{type:"submit",className:"login-button"},"Log In")),r.a.createElement("section",{className:"other-option-section"},"Don\u2019t have an account?",r.a.createElement("br",null),r.a.createElement("button",{className:"signup-option",type:"button",onClick:function(){t("signup"),g("")}},"Sign Up"))))},W=function(e){var t=e.setCurrentForm,a=Object(n.useState)(""),o=Object(p.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)(""),l=Object(p.a)(u,2),m=l[0],d=l[1],f=Object(n.useState)(""),h=Object(p.a)(f,2),g=h[0],E=h[1],v=Object(n.useState)(""),y=Object(p.a)(v,2),O=y[0],N=y[1],j=Object(s.c)((function(e){return e.message.message})),w=Object(s.b)(),C=function(e){return w(_.setMessage(e))},k=b(U);return r.a.createElement("form",{className:"signup-form",onSubmit:function(e){return e.preventDefault(),c&&m&&g&&O?g!==O?C("Your password and confirmation password do not match!"):(k({username:c,email:m,password:g,confirmPassword:O}),i(""),d(""),E(""),void N("")):C("All fields are required!")}},r.a.createElement("p",{className:"signup-message",style:{color:"red"}},j),r.a.createElement("fieldset",{className:"credentials"},r.a.createElement("input",{type:"text",name:"username",value:c,onChange:function(e){return i(e.target.value)},onFocus:function(){return C("")},"aria-label":"Username",placeholder:"Username"}),r.a.createElement("input",{type:"email",name:"email",value:m,onChange:function(e){return d(e.target.value)},onFocus:function(){return C("")},"aria-label":"Email",placeholder:"Email"}),r.a.createElement("input",{type:"password",name:"password",value:g,onChange:function(e){return E(e.target.value)},onFocus:function(){return C("")},"aria-label":"Password",placeholder:"Password"}),r.a.createElement("input",{type:"password",name:"confirmPassword",value:O,onChange:function(e){return N(e.target.value)},onFocus:function(){return C("")},"aria-label":"Confirm Password",placeholder:"Confirm Password"})),r.a.createElement("section",{className:"form-options-section"},r.a.createElement("section",{className:"form-submit-section"},r.a.createElement("button",{type:"submit",className:"signup-button"},"Sign Up")),r.a.createElement("section",{className:"other-option-section"},"Already have an account?",r.a.createElement("br",null),r.a.createElement("button",{className:"login-option",type:"button",onClick:function(){t("login"),C("")}},"Log In"))))},R=function(){var e=(new Date).getFullYear(),t=2019===e?"2019":"2019-".concat(e);return r.a.createElement("footer",{className:"main-footer"},r.a.createElement("p",null,r.a.createElement("span",{className:"year"},"\xa9\xa0",t,",\xa0"),r.a.createElement("a",{href:"https://github.com/joisadler"},"Yossi Adler\xa0"),"and the FYMdaily\xa0",r.a.createElement("a",{href:"https://github.com/joisadler/fymdaily-client/graphs/contributors"},"contributors"),"."),r.a.createElement("a",{href:"https://platform.fatsecret.com"},r.a.createElement("img",{src:"https://platform.fatsecret.com/api/static/images/powered_by_fatsecret.svg",alt:"Powered by FatSecret",border:"0"})))},q=function(){var e=Object(n.useState)("login"),t=Object(p.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("h1",{className:"app-description"},r.a.createElement("em",null,"FYMdaily"),"\xa0\u2013 simple and minimalistic calorie/macronutrient tracker. Sign up today and start Fit Your Macros daily!"),r.a.createElement("div",{className:"form-container"},"login"===a?r.a.createElement(I,{setCurrentForm:o}):r.a.createElement(W,{setCurrentForm:o}))),r.a.createElement(R,null))};function G(e){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),e.next=3,w("history/".concat(t,"?date=").concat(a));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return a=e.sent,e.abrupt("return",a.eaten_foods);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),n={date:a,food:t},e.next=4,C("history/food",n);case 4:return r=e.sent,e.abrupt("return",r.eaten_foods);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),n={date:a,food:t},e.next=4,k("history/food",n);case 4:return r=e.sent,e.abrupt("return",r.eaten_foods);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return $.apply(this,arguments)}function $(){return($=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).toLocaleDateString("ru-RU"),n={date:a,food:t},e.next=4,x("history/food",n);case 4:return r=e.sent,e.abrupt("return",r.eaten_foods);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return{type:"SET_EATEN_FOODS",eatenFoods:e}}function Z(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_START"}),t.next=4,B(e);case 4:n=t.sent,a(Q(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("HistoryActions: err in loadEatenFoods",t.t0);case 11:return t.prev=11,a({type:"LOADING_DONE"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}function ee(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:n=t.sent,a(Q(n)),f.push("/home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("HistoryActions: err in addEatenFood",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function te(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(e);case 3:n=t.sent,a(Q(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("HistoryActions: err in updateEatenFoods",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ae(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X(e);case 3:n=t.sent,a(Q(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("HistoryActions: err in deleteEatenFood",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var ne={veryLight:1.2,light:1.4,moderate:1.6,heavy:1.8,veryHeavy:2},re={fastWeightLoss:.75,normalWeightLoss:.85,weightMaintenance:1,massGain:1.15},oe={fastWeightLoss:1.6,normalWeightLoss:1.5,weightMaintenance:1.3,massGain:1.5},ce=function(e,t){var a=e.bodyWeight,n=e.height,r=e.gender,o=e.waistCircumference,c=e.neckCircumference,s=e.hipCircumference,i=e.physicalActivityLevel,u=e.goal,l=ne[i],m=re[u],d=a*(100-("male"===r?495/(1.0324-.19077*Math.log10(o-c)+.15456*Math.log10(n))-450:495/(1.29579-.35004*Math.log10(o+s-c)+.221*Math.log10(n))-450))/100,f=(370+21.6*d)*l*m,p=d*oe[u],b=.3*f/9,h=(f-4*p-9*b)/4,g=t.reduce((function(e,t){return e+t.calories*t.weight/100}),0),E=t.reduce((function(e,t){return e+t.proteins*t.weight/100}),0),v=t.reduce((function(e,t){return e+t.fats*t.weight/100}),0),y=t.reduce((function(e,t){return e+t.carbs*t.weight/100}),0),O=f-g,N=g/f*100,j=E/p*100,w=v/b*100,C=y/h*100,k=4*E,x=9*v,S=4*y,F=k/f*100,M=x/f*100,D=S/f*100,_=(g-(k+x+S))/f*100>0?(g-(k+x+S))/f*100:0,A=100-F-M-D-_>0?100-F-M-D-_:0;return{dailyCalorieNeed:Math.round(f),dailyProteinNeed:Math.round(p),dailyFatNeed:Math.round(b),dailyCarbNeed:Math.round(h),currentCalories:Math.round(g),currentProteins:Math.round(E),currentFats:Math.round(v),currentCarbs:Math.round(y),currentCaloriesRemainder:Math.round(O),currentPercentOfDailyCalorieNeed:Math.round(N),currentPercentOfDailyProteinNeed:Math.round(j),currentPercentOfDailyFatNeed:Math.round(w),currentPercentOfDailyCarbNeed:Math.round(C),percentageOfProteinsInDailyCalorieNeed:Math.round(F),percentageOfFatsInDailyCalorieNeed:Math.round(M),percentageOfCarbsInDailyCalorieNeed:Math.round(D),percentageOfCaloriesRemainderInDailyCalorieNeed:Math.round(A),percentageOfEmptyCaloriesInDailyCalorieNeed:Math.round(_)}},se=a(86),ie=function(e){var t=e.numbers,a=e.isAlternateContentShown,n=t.dailyCalorieNeed,o=t.currentCalories,c=t.currentCaloriesRemainder,s=t.currentPercentOfDailyCalorieNeed;return a?r.a.createElement("div",{className:"alternative-calories-chart-content"},r.a.createElement("p",{className:"alternative-calories-chart-content-headline"},"calories:"),r.a.createElement("p",{className:"alternative-calories-chart-content-number"},o,"/",n),r.a.createElement("p",{className:"alternative-calories-chart-content-percent"},s,"%")):r.a.createElement("div",{className:"calories-chart-content"},c>=0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"calories-headline"},"You still need to consume"),r.a.createElement("p",{className:"calories-number"},Number.isNaN(c)?"":c),r.a.createElement("h2",{className:"calories-subheadline"},"calories to fit your daily need")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"calories-headline"},"Today you have consumed"),r.a.createElement("p",{className:"calories-number",style:{color:"red"}},Number.isNaN(Math.abs(c))?"":Math.abs(c)),r.a.createElement("h2",{className:"calories-subheadline"},"calories more than your daily need")))},ue=function(e){var t=e.numbers,a=e.isAlternateContentShown,o=e.toggleAlternateContent,c=t.percentageOfProteinsInDailyCalorieNeed,s=t.percentageOfFatsInDailyCalorieNeed,i=t.percentageOfCarbsInDailyCalorieNeed,u=t.percentageOfCaloriesRemainderInDailyCalorieNeed,l={labels:["Proteins","Fats","Carbs","Empty Calories","Still need to consume"],datasets:[{data:[c,s,i,t.percentageOfEmptyCaloriesInDailyCalorieNeed,u],backgroundColor:["#109618","#ff9900","#990099","#fff","#f2f2f2"],borderColor:"#000",borderWidth:1}]},m={maintainAspectRatio:!1,cutoutPercentage:80,legend:{display:!1},tooltips:{position:"nearest",titleFontFamily:"Montserrat, sans-serif",bodyFontFamily:"Montserrat, sans-serif",backgroundColor:"rgba(0, 0, 0, 0.9)",displayColors:!1,callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){var a=t.datasets[0],n=Object.values(a._meta)[0].total,r=Math.round(a.data[e.index]/n*100);return"".concat(r,"% of total calorie intake")}}}},d=Object(n.useRef)(null),f=Object(n.useState)(-1),b=Object(p.a)(f,2),h=b[0],g=b[1],E=function(){if(d.current){var e=Number(window.getComputedStyle(d.current).height.slice(0,-2));g(e)}};Object(n.useLayoutEffect)((function(){return E(),window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[h]);return r.a.createElement("article",{className:"calories-container",ref:d,onClick:o,onKeyDown:function(e){!function(e){var t=e.charCode||e.keyCode;32!==t&&13!==t||o()}(e)},role:"switch","aria-checked":"false",tabIndex:"0"},r.a.createElement(se.Doughnut,{className:"calories-chart",data:l,options:m}),r.a.createElement("div",{className:"calories-chart-inner",style:{width:h,height:h}},r.a.createElement(ie,{numbers:t,isAlternateContentShown:a,toggleAlternateContent:o})))},le=a(87),me=a.n(le),de=function(){var e=Object(s.c)((function(e){return e.system.isLoading}));return r.a.createElement("div",{className:"loader-container"},r.a.createElement(me.a,{size:15,margin:2,color:"green",loading:e}))},fe=a(24);var pe={showMenu:function(){return{type:"SHOW_MENU"}},hideMenu:function(){return{type:"HIDE_MENU"}},toggleMenu:function(){return{type:"TOGGLE_MENU"}}},be=a(14),he=a(15),ge=a.n(he);function Ee(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("food?name=".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("food?name=".concat(t,"&custom=true"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return je.apply(this,arguments)}function je(){return(je=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("food",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("food",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("food/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return{type:"SET_FOODS",foods:e}}function Fe(e){return{type:"ADD_CUSTOM_FOOD",newFood:e}}function Me(e){return{type:"DELETE_CUSTOM_FOOD",foodId:e}}function De(e){return{type:"UPDATE_CUSTOM_FOOD",updatedFood:e}}function _e(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(e);case 3:n=t.sent,a(Fe(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("FoodActions: err in addCustomFood",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Ae(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we(e);case 3:n=t.sent,a(De(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("FoodActions: err in updateCustomFoods",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Le(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(e);case 3:a(Me(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("FoodActions: err in deleteCustomFood",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}var Pe=function(e){var t=e.isModalOpen,a=e.closeModal;ge.a.setAppElement("#root");var o=Object(n.useState)(""),c=Object(p.a)(o,2),i=c[0],u=c[1],l=Object(n.useState)(""),m=Object(p.a)(l,2),d=m[0],f=m[1],b=Object(n.useState)(""),h=Object(p.a)(b,2),g=h[0],y=h[1],O=Object(n.useState)(""),N=Object(p.a)(O,2),j=N[0],w=N[1],C=Object(n.useState)(""),k=Object(p.a)(C,2),x=k[0],S=k[1],F=Object(n.useState)(""),M=Object(p.a)(F,2),D=M[0],_=M[1],A=Object(s.b)(),L=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(_e({name:i,brand:d,calories:g,proteins:j,fats:x,carbs:D}));case 2:case"end":return e.stop()}}),e)}))));return r.a.createElement(ge.a,{isOpen:t,onRequestClose:a,contentLabel:"Create food",className:"create-custom-food"},r.a.createElement("button",{className:"create-custom-food-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("h2",{className:"create-custom-food-header"},"Create new food"),r.a.createElement("form",{className:"create-custom-food-form",onSubmit:function(e){e.preventDefault(),L.execute(),a()}},r.a.createElement("input",{type:"text",className:"create-custom-food-input create-custom-food-name-input","aria-label":"name",value:i,placeholder:"Name",onChange:function(e){return u(e.target.value)},required:!0}),r.a.createElement("input",{type:"text",className:"create-custom-food-input create-custom-food-brand-input","aria-label":"brand",value:d,placeholder:"Brand",onChange:function(e){return f(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"1000",step:"any",className:"create-custom-food-input create-custom-food-calories-input","aria-label":"calories",value:g,placeholder:"Calories",onChange:function(e){return y(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"create-custom-food-input create-custom-food-proteins-input","aria-label":"proteins",value:j,placeholder:"Proteins",onChange:function(e){return w(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"create-custom-food-input create-custom-food-fats-input","aria-label":"fats",value:x,placeholder:"Fats",onChange:function(e){return S(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"create-custom-food-input create-custom-food-carbs-input","aria-label":"carbs",value:D,placeholder:"Carbs",onChange:function(e){return _(e.target.value)},required:!0}),r.a.createElement("div",{className:"create-custom-food-submit-button-container"},r.a.createElement("button",{type:"submit",className:"create-custom-food-submit-button"},"Create"))))},Te=function(e){var t=e.to,a=e.icon,o=Object(s.b)(),c=Object(i.f)(),u=Object(n.useState)(!1),l=Object(p.a)(u,2),m=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"nav-button",onClick:function(){if("/menu"===t)return o(pe.toggleMenu());"/create-custom-food"!==t?(o(pe.hideMenu()),c.push(t)):d(!0)}},r.a.createElement(fe.a,{icon:a,className:"nav-button-icon"})),m&&r.a.createElement(Pe,{isModalOpen:m,closeModal:function(e){e&&e.stopPropagation(),d(!1)}}))},Ue=[{to:"/eaten-food",icon:["fas","list"],key:1},{to:"/add-eaten-food",icon:["fas","utensils"],key:2},{to:"/home",icon:["fas","home"],key:3}],Ie={"/account-settings":Ue,"/preferences":Ue,"/statistics":Ue,"/user-settings":Ue,"/home":[{to:"/eaten-food",icon:["fas","list"],key:1},{to:"/add-eaten-food",icon:["fas","utensils"],key:2},{to:"/menu",icon:["fas","cog"],key:3}],"/add-eaten-food":[{to:"/custom-foods",icon:["fas","folder-open"],key:1},{to:"/home",icon:["fas","home"],key:2},{to:"/menu",icon:["fas","cog"],key:3}],"/eaten-food":[{to:"/add-eaten-food",icon:["fas","utensils"],key:1},{to:"/home",icon:["fas","home"],key:2},{to:"/menu",icon:["fas","cog"],key:3}],"/custom-foods":[{to:"/create-custom-food",icon:["fas","folder-plus"],key:1},{to:"/home",icon:["fas","home"],key:2},{to:"/menu",icon:["fas","cog"],key:3}]},We=function(){var e=function(){var e=Object(i.g)().pathname;return Ie[e].map((function(e){return r.a.createElement(Te,{to:e.to,icon:e.icon,key:e.key})}))};return r.a.createElement("nav",{className:"main-navbar"},r.a.createElement(e,null))},Re=a(91),qe=function(e){var t=e.numbers,a=e.nutrient,n="".concat(a[0].toUpperCase()).concat(a.slice(1)),o=t["currentPercentOfDaily".concat(n,"Need")];return r.a.createElement("div",{className:"macros-line"},r.a.createElement("div",{className:"macros-image-container ".concat(a,"-image-container")}),r.a.createElement("div",{className:"macros-progress-bar","data-tip":!0,"data-for":"".concat(a,"-tip")},r.a.createElement(Re.a,{id:"".concat(a,"-tip"),"aria-haspopup":"true",place:"top",type:"dark",effect:"float"},r.a.createElement("h2",{className:"tooltip-title"},"".concat(n,"s")),r.a.createElement("p",{className:"tooltip-text"},"".concat(o,"% of daily ").concat(a," need"))),r.a.createElement("div",{className:"percent-container ".concat(a,"-percent-container")},o,"%"),r.a.createElement("div",{className:"macros-progress-bar-inner ".concat(a,"-progress-bar-inner"),style:{width:"".concat(o>100?100:o,"%")}})))},Ge=function(e){var t=e.numbers;return r.a.createElement("section",{className:"macros-container"},r.a.createElement(qe,{numbers:t,nutrient:"protein"}),r.a.createElement(qe,{numbers:t,nutrient:"fat"}),r.a.createElement(qe,{numbers:t,nutrient:"carb"}))},He=function(){var e=Object(s.c)((function(e){return e.user.loggedInUser})),t=Object(s.b)();return Object(n.useEffect)((function(){t(function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getUser();case 3:a=e.sent,t(L(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("UserActions: err in loadUser",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e._id,t]),e},Be=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],o=t[1],c=He(),i=Object(s.c)((function(e){return e.history.eatenFoods})),u=Object(s.c)((function(e){return e.system.isLoading})),l=Object(s.b)();Object(n.useEffect)((function(){l(Z(c._id))}),[c._id,l]);var m=i?ce(c,i):{};return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},u?r.a.createElement(de,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{numbers:m,isAlternateContentShown:a,toggleAlternateContent:function(){o(!a)}}),r.a.createElement(Ge,{numbers:m}))),r.a.createElement(We,null))},Ye=function(){var e=He(),t=e._id,a=e.username,o=e.height||"",c=e.bodyWeight||"",i=e.gender||"male",u=e.hipCircumference||"",l=e.waistCircumference||"",m=e.neckCircumference||"",d=e.physicalActivityLevel||"moderate",f=e.goal||"normalWeightLoss",b=""!==e.height,h=Object(n.useState)(o),g=Object(p.a)(h,2),y=g[0],O=g[1],N=Object(n.useState)(c),j=Object(p.a)(N,2),w=j[0],C=j[1],k=Object(n.useState)(i),x=Object(p.a)(k,2),S=x[0],F=x[1],M=Object(n.useState)(u),D=Object(p.a)(M,2),_=D[0],A=D[1],L=Object(n.useState)(l),T=Object(p.a)(L,2),U=T[0],I=T[1],W=Object(n.useState)(m),R=Object(p.a)(W,2),q=R[0],G=R[1],H=Object(n.useState)(d),B=Object(p.a)(H,2),Y=B[0],J=B[1],K=Object(n.useState)(f),z=Object(p.a)(K,2),V=z[0],X=z[1];Object(n.useEffect)((function(){O(o),C(c),F(i),A(u),I(l),G(m),J(d),X(f)}),[o,c,i,u,l,m,d,f]);var $=function(e){var t=e.value;!function(e){switch(e){case"height":return O;case"bodyWeight":return C;case"gender":return F;case"hipCircumference":return A;case"waistCircumference":return I;case"neckCircumference":return G;case"physicalActivityLevel":return J;case"goal":return X}}(e.dataset.name)(t)},Q=Object(s.b)(),Z=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(P({_id:t,username:a,height:y,bodyWeight:w,gender:S,hipCircumference:_,waistCircumference:U,neckCircumference:q,physicalActivityLevel:Y,goal:V}));case 2:case"end":return e.stop()}}),e)}))));return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("header",null,r.a.createElement("h1",{className:"page-title"},b?"Hey, ".concat(a,"!"):"Welcome, ".concat(a,"!")),r.a.createElement("h2",{className:"user-settings-page-subtitle"},b?"We advise you to update this data at least once a month (this is important for the correct work with your weight):":"Please enter the following data (this is necessary for the application to work correctly):")),r.a.createElement("form",{className:"user-settings-form",onSubmit:function(e){e.preventDefault(),Z.execute()}},r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-height-input",className:"user-settings-input-label"},"Height:*"),r.a.createElement("input",{type:"number",id:"user-settings-height-input",className:"user-settings-input",placeholder:"Number in cm",value:y,"data-name":"height",onChange:function(e){return $(e.target)},min:"0",max:"300",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-weight-input",className:"user-settings-input-label"},"Weight:*"),r.a.createElement("input",{type:"number",id:"user-settings-weight-input",className:"user-settings-input",placeholder:"Number in kg",value:w,"data-name":"bodyWeight",onChange:function(e){return $(e.target)},min:"0",max:"500",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-gender-input",className:"user-settings-input-label"},"Gender:*"),r.a.createElement("select",{id:"user-settings-gender-input",className:"user-settings-input",value:S,"data-name":"gender",onChange:function(e){return $(e.target)},required:!0},r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"))),r.a.createElement("div",{className:"user-settings-input-container"},"female"===S&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"user-settings-hip-circumference-input",className:"user-settings-input-label"},"Hip Circumference:*"),r.a.createElement("input",{type:"number",id:"user-settings-hip-circumference-input",className:"user-settings-input",placeholder:"Number in cm",value:_,"data-name":"hipCircumference",onChange:function(e){return $(e.target)},min:"0",max:"500",step:"any",required:!0}))),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-waist-circumference-input",className:"user-settings-input-label"},"Waist Circumference:*"),r.a.createElement("input",{type:"number",id:"user-settings-waist-circumference-input",className:"user-settings-input",placeholder:"Number in cm",value:U,"data-name":"waistCircumference",onChange:function(e){return $(e.target)},min:"0",max:"300",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-neck-circumference-input",className:"user-settings-input-label"},"Neck Circumference:*"),r.a.createElement("input",{type:"number",id:"user-settings-neck-circumference-input",className:"user-settings-input",placeholder:"Number in cm",value:q,"data-name":"neckCircumference",onChange:function(e){return $(e.target)},min:"0",max:"100",step:"any",required:!0})),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-physical-activity-level-input",className:"user-settings-input-label"},"Physical Activity Level:*"),r.a.createElement("select",{id:"user-settings-physical-activity-level-input",className:"user-settings-input",value:Y,"data-name":"physicalActivityLevel",onChange:function(e){return $(e.target)},required:!0},r.a.createElement("option",{value:"veryLight"},"Very Light"),r.a.createElement("option",{value:"light"},"Light"),r.a.createElement("option",{value:"moderate"},"Moderate"),r.a.createElement("option",{value:"heavy"},"Heavy"),r.a.createElement("option",{value:"veryHeavy"},"Very Heavy"))),r.a.createElement("div",{className:"user-settings-input-container"},r.a.createElement("label",{htmlFor:"user-settings-goal-input",className:"user-settings-input-label"},"Goal:*"),r.a.createElement("select",{id:"user-settings-goal-input",className:"user-settings-input",value:V,"data-name":"goal",onChange:function(e){return $(e.target)},required:!0},r.a.createElement("option",{value:"fastWeightLoss"},"Fast Weight Loss"),r.a.createElement("option",{value:"normalWeightLoss"},"Normal Weight Loss"),r.a.createElement("option",{value:"weightMaintenance"},"Weight Maintenance"),r.a.createElement("option",{value:"massGain"},"Mass Gain"))),r.a.createElement("button",{type:"submit",className:"user-settings-save-button"},"Save"))),b&&r.a.createElement(We,null))},Je=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Ke=a(38),ze=(a(83),function(e){var t=e.onClose,a=e.text,n=e.name,o=e.onYes,c=e.onNo,s=e.yesButtonText,i=e.noButtonText;return r.a.createElement("div",{className:"confirm-modal"},r.a.createElement("header",{className:"confirm-modal-header"},r.a.createElement("h2",{className:"confirm-modal-title"},a),r.a.createElement("h3",{className:"confirm-modal-item-name"},r.a.createElement("p",null,n,r.a.createElement("span",null,"?")))),r.a.createElement("section",{className:"confirm-modal-options"},r.a.createElement("button",{type:"button",className:"confirm-modal-no-button",onClick:function(){c&&c(),t()}},i),r.a.createElement("button",{type:"button",className:"confirm-modal-yes-button",onClick:function(){o&&o(),t()}},s)))});ze.defaultProps={text:"Are you shure",name:null,onYes:null,onNo:null,yesButtonText:"Yes",noButtonText:"No"};var Ve=ze,Xe=function(e){var t=e.isModalOpen,a=e.closeModal,o=e._id,c=e.name,i=e.brand,u=e.calories,l=e.proteins,m=e.fats,d=e.carbs,f=e.previousWeight;ge.a.setAppElement("#root");var b=Object(n.useState)(f),h=Object(p.a)(b,2),g=h[0],y=h[1],O=Object(s.b)(),N=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(te({_id:o,name:c,brand:i,calories:u,proteins:l,fats:m,carbs:d,weight:g}));case 2:case"end":return e.stop()}}),e)})))),j=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(ae({_id:o}));case 2:case"end":return e.stop()}}),e)})))),w=function(e){var t=e.onClose;return r.a.createElement(Ve,{onClose:t,text:"Are you sure you wish to delete",name:c,onYes:function(){j.execute(),a()},yesButtonText:"Delete",noButtonText:"Return"})};return r.a.createElement(ge.a,{isOpen:t,onRequestClose:a,contentLabel:"Edit eaten food",className:"edit-eaten-food-modal"},r.a.createElement("button",{className:"edit-eaten-food-modal-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("header",{className:"edit-eaten-food-modal-header"},r.a.createElement("h2",{className:"edit-eaten-food-modal-title"},c),r.a.createElement("h3",{className:"edit-eaten-food-modal-subtitle"},i)),r.a.createElement("div",{className:"edit-eaten-food-modal-info"},r.a.createElement("p",null,"Calories: ".concat(u*g/100)),r.a.createElement("p",null,"Proteins: ".concat(l*g/100)),r.a.createElement("p",null,"Fats: ".concat(m*g/100)),r.a.createElement("p",null,"Carbs: ".concat(d*g/100))),r.a.createElement("form",{id:"edit-eaten-food-modal-form",className:"edit-eaten-food-modal-form",onSubmit:function(e){e.preventDefault(),N.execute(),a()}},r.a.createElement("fieldset",{className:"edit-eaten-food-modal-weight-inputs"},r.a.createElement("legend",{className:"edit-eaten-food-modal-weight-legend"},"Weight:"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"edit-eaten-food-modal-weight-dec-button",onClick:function(){y(g<=10?0:g-10)}},"-"),r.a.createElement("input",{className:"edit-eaten-food-modal-weight-input","aria-label":"weight",type:"number",min:"0",max:"1000",step:"any",value:g,onChange:function(e){return y(e.target.value)}}),r.a.createElement("button",{type:"button",className:"edit-eaten-food-modal-weight-inc-button",onClick:function(){y(g>=990?1e3:g+10)}},"+")))),r.a.createElement("div",{className:"edit-eaten-food-modal-options-container"},r.a.createElement("button",{type:"submit",form:"edit-eaten-food-modal-form",className:"edit-eaten-food-modal-submit-button"},"Save"),r.a.createElement("button",{type:"button","aria-label":"Delete eaten food",className:"edit-eaten-food-modal-delete-button",onClick:function(){Object(Ke.confirmAlert)({customUI:w})}},r.a.createElement(fe.a,{icon:["fas","trash"],className:"edit-eaten-food-delete-button-icon"}))))},$e=function(e){var t=e.food,a=t._id,o=t.name,c=t.brand,s=+t.calories,i=+t.proteins,u=+t.fats,l=+t.carbs,m=Math.round(+t.weight),d=Math.round(s*m/100),f=Math.round(i*m/100),b=Math.round(u*m/100),h=Math.round(l*m/100),g=Object(n.useState)(!1),E=Object(p.a)(g,2),v=E[0],y=E[1],O=function(){y(!0)};return r.a.createElement("li",{className:"eaten-food-card",onClick:O,onKeyDown:function(e){!function(e){13===(e.charCode||e.keyCode)&&O()}(e)},role:"option","aria-selected":"false"},r.a.createElement("h2",{className:"eaten-food-card-title"},r.a.createElement("bdi",null,o),r.a.createElement("bdi",null,"".concat(""!==c?", ".concat(c):"",", ")),"".concat(m,"g")),r.a.createElement("p",{className:"eaten-food-card-info"},"Calories: ".concat(d),r.a.createElement("br",null),"Proteins: ".concat(f," | Fats: ").concat(b," | Carbs: ").concat(h)),v&&r.a.createElement(Xe,{isModalOpen:v,closeModal:function(e){e&&e.stopPropagation(),y(!1)},_id:a,name:o,brand:c,calories:s,proteins:i,fats:u,carbs:l,previousWeight:m}))},Qe=function(){var e=He(),t=Object(s.c)((function(e){return e.history.eatenFoods})),a=Object(s.c)((function(e){return e.system.isLoading})),o=Object(s.b)();Object(n.useEffect)((function(){o(Z(e._id))}),[e._id,o]);var c=Object(n.useState)({totalCalories:0,totalProteins:0,totalFats:0,totalCarbs:0}),i=Object(p.a)(c,2),u=i[0],l=i[1],m=u.totalCalories,d=u.totalProteins,f=u.totalFats,b=u.totalCarbs;return Object(n.useEffect)((function(){if(t){var e=t.reduce((function(e,t){var a=+t.calories,n=+t.proteins,r=+t.fats,o=+t.carbs,c=Math.round(+t.weight),s=Math.round(a*c/100),i=Math.round(n*c/100),u=Math.round(r*c/100),l=Math.round(o*c/100);return e.totalCalories+=s,e.totalProteins+=i,e.totalFats+=u,e.totalCarbs+=l,e}),{totalCalories:0,totalProteins:0,totalFats:0,totalCarbs:0});l(e)}}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("h1",{className:"page-title"},"Eaten foods"),r.a.createElement("ul",{className:"eaten-food-cards"},a?r.a.createElement(de,null):r.a.createElement(r.a.Fragment,null,t&&t.map((function(e){return r.a.createElement($e,{key:Je()+e.name,food:e})})),r.a.createElement("li",{className:"eaten-food-total"},r.a.createElement("h2",{className:"eaten-food-total-title"},"Total:"),r.a.createElement("p",null,"Calories: ".concat(m),r.a.createElement("br",null),"Proteins: ".concat(d," | Fats: ").concat(f," | Carbs: ").concat(b)))))),r.a.createElement(We,null))},Ze=a(39),et=function(){var e=Object(s.c)((function(e){return e.food.foods})),t=Object(s.b)(),a=Object(i.g)().pathname,r=Object(n.useState)(""),o=Object(p.a)(r,2),c=o[0],u=o[1];return Object(n.useEffect)((function(){t(function(e,t){return function(){var a=Object(v.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n({type:"LOADING_START"}),"/custom-foods"!==t){a.next=8;break}return a.next=5,ye(e);case 5:a.t0=a.sent,a.next=11;break;case 8:return a.next=10,Ee(e);case 10:a.t0=a.sent;case 11:r=a.t0,n(Se(r)),a.next=18;break;case 15:a.prev=15,a.t1=a.catch(0),console.log("FoodActions: err in loadCustomFoods",a.t1);case 18:return a.prev=18,n({type:"LOADING_DONE"}),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[0,15,18,21]])})));return function(e){return a.apply(this,arguments)}}()}(c,a))}),[c,t,a]),{inputText:c,setInputText:u,foods:e}},tt=function(e){var t=e.isModalOpen,a=e.closeModal,o=e.name,c=e.brand,i=e.calories,u=e.proteins,l=e.fats,m=e.carbs;ge.a.setAppElement("#root");var d=Object(n.useState)(100),f=Object(p.a)(d,2),b=f[0],h=f[1],g=Object(s.b)(),y=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(ee({name:o,brand:c,calories:i,proteins:u,fats:l,carbs:m,weight:b}));case 2:case"end":return e.stop()}}),e)}))));return r.a.createElement(ge.a,{isOpen:t,onRequestClose:a,contentLabel:"Add food",className:"add-eaten-food-modal"},r.a.createElement("button",{className:"add-eaten-food-modal-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("header",{className:"add-eaten-food-modal-header"},r.a.createElement("h2",{className:"add-eaten-food-modal-title"},o),r.a.createElement("h3",{className:"add-eaten-food-modal-subtitle"},c)),r.a.createElement("div",{className:"add-eaten-food-modal-info"},r.a.createElement("p",null,"Calories: ".concat(i*b/100)),r.a.createElement("p",null,"Proteins: ".concat(u*b/100)),r.a.createElement("p",null,"Fats: ".concat(l*b/100)),r.a.createElement("p",null,"Carbs: ".concat(m*b/100))),r.a.createElement("form",{id:"add-eaten-food-modal-form",className:"add-eaten-food-modal-form",onSubmit:function(e){e.preventDefault(),y.execute(),a()}},r.a.createElement("fieldset",{className:"add-eaten-food-modal-weight-inputs"},r.a.createElement("legend",{className:"add-eaten-food-modal-weight-legend"},"Weight:"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"add-eaten-food-modal-weight-dec-button",onClick:function(){h(b<=10?0:b-10)}},"-"),r.a.createElement("input",{className:"add-eaten-food-modal-weight-input","aria-label":"weight",type:"number",min:"0",max:"1000",step:"any",value:b,onChange:function(e){return h(e.target.value)}}),r.a.createElement("button",{type:"button",className:"add-eaten-food-modal-weight-inc-button",onClick:function(){h(b>=990?1e3:b+10)}},"+")))),r.a.createElement("button",{type:"submit",form:"add-eaten-food-modal-form",className:"add-eaten-food-modal-submit-button"},"Add"))},at=function(e){var t=e.food,a=t.name,o=t.brand,c=Math.round(+t.calories),s=Math.round(+t.proteins),i=Math.round(+t.fats),u=Math.round(+t.carbs),l=Object(n.useState)(!1),m=Object(p.a)(l,2),d=m[0],f=m[1],b=function(){f(!0)};return r.a.createElement("li",{className:"add-eaten-food-card",onClick:b,onKeyDown:function(e){!function(e){13===(e.charCode||e.keyCode)&&b()}(e)},role:"option","aria-selected":"false"},r.a.createElement("h2",{className:"add-eaten-food-card-title"},"".concat(a).concat(""!==o?", ".concat(o):"")),r.a.createElement("p",{className:"add-eaten-food-card-info"},"Calories: ".concat(c),r.a.createElement("br",null),"Proteins: ".concat(s," | Fats: ").concat(i," | Carbs: ").concat(u)),d&&r.a.createElement(tt,{isModalOpen:d,closeModal:function(e){e&&e.stopPropagation(),f(!1)},name:a,brand:o,calories:c,proteins:s,fats:i,carbs:u}))},nt=function(){var e=et(),t=e.inputText,a=e.setInputText,o=e.foods,c=Object(s.c)((function(e){return e.system.isLoading})),i=Object(n.useRef)(null);Object(n.useEffect)((function(){i.current.focus()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("header",{className:"options-container"},r.a.createElement("h1",{className:"page-title"},"Add eaten food"),r.a.createElement(Ze.DebounceInput,{minLength:0,type:"search",debounceTimeout:300,className:"add-eaten-food-search",placeholder:"Search food","aria-label":"Search food",value:t,inputRef:i,onChange:function(e){!function(e){var t=e.value;a(t)}(e.target)}})),r.a.createElement("ul",{className:"add-eaten-food-cards"},c?r.a.createElement(de,null):o.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(at,{key:e._id?e._id:Je()+e.name,food:e})})))),r.a.createElement(We,null))},rt=function(e){var t=e.isModalOpen,a=e.closeModal,o=e._id,c=e.prevName,i=e.prevBrand,u=e.prevCalories,l=e.prevProteins,m=e.prevFats,d=e.prevCarbs;ge.a.setAppElement("#root");var f=Object(n.useState)(c),b=Object(p.a)(f,2),h=b[0],g=b[1],y=Object(n.useState)(i),O=Object(p.a)(y,2),N=O[0],j=O[1],w=Object(n.useState)(u),C=Object(p.a)(w,2),k=C[0],x=C[1],S=Object(n.useState)(l),F=Object(p.a)(S,2),M=F[0],D=F[1],_=Object(n.useState)(m),A=Object(p.a)(_,2),L=A[0],P=A[1],T=Object(n.useState)(d),U=Object(p.a)(T,2),I=U[0],W=U[1],R=Object(s.b)(),q=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(Ae({_id:o,name:h,brand:N,calories:k,proteins:M,fats:L,carbs:I}));case 2:case"end":return e.stop()}}),e)})))),G=Object(be.a)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(Le(o));case 1:case"end":return e.stop()}}),e)})))),H=function(e){var t=e.onClose;return r.a.createElement(Ve,{onClose:t,text:"Are you sure you wish to delete",name:h,onYes:function(){G.execute(),a()},yesButtonText:"Delete",noButtonText:"Return"})};return r.a.createElement(ge.a,{isOpen:t,onRequestClose:a,contentLabel:"Edit food",className:"edit-custom-food"},r.a.createElement("button",{className:"edit-custom-food-close-button",type:"button",onClick:function(e){return a(e)}},"\xd7"),r.a.createElement("h2",{className:"edit-custom-food-header"},"Edit food"),r.a.createElement("form",{className:"edit-custom-food-form",onSubmit:function(e){e.preventDefault(),q.execute(),a()}},r.a.createElement("input",{type:"text",className:"edit-custom-food-input edit-custom-food-name-input","aria-label":"name",value:h,placeholder:"Name",onChange:function(e){return g(e.target.value)},required:!0}),r.a.createElement("input",{type:"text",className:"edit-custom-food-input edit-custom-food-brand-input","aria-label":"brand",value:N,placeholder:"Brand",onChange:function(e){return j(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"1000",step:"any",className:"edit-custom-food-input edit-custom-food-calories-input","aria-label":"calories",value:k,placeholder:"Calories",onChange:function(e){return x(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"edit-custom-food-input edit-custom-food-proteins-input","aria-label":"proteins",value:M,placeholder:"Proteins",onChange:function(e){return D(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"edit-custom-food-input edit-custom-food-fats-input","aria-label":"fats",value:L,placeholder:"Fats",onChange:function(e){return P(e.target.value)},required:!0}),r.a.createElement("input",{type:"number",min:"0",max:"100",step:"any",className:"edit-custom-food-input edit-custom-food-carbs-input","aria-label":"carbs",value:I,placeholder:"Carbs",onChange:function(e){return W(e.target.value)},required:!0}),r.a.createElement("div",{className:"edit-custom-food-submit-button-container"},r.a.createElement("button",{type:"submit",className:"edit-custom-food-submit-button"},"Save"),r.a.createElement("button",{type:"button","aria-label":"Delete eaten food",className:"edit-eaten-food-modal-delete-button",onClick:function(){Object(Ke.confirmAlert)({customUI:H})}},r.a.createElement(fe.a,{icon:["fas","trash"],className:"edit-eaten-food-delete-button-icon"})))))},ot=function(e){var t=e.food,a=t._id,o=t.name,c=t.brand,s=Math.round(+t.calories),i=Math.round(+t.proteins),u=Math.round(+t.fats),l=Math.round(+t.carbs),m=Object(n.useState)(!1),d=Object(p.a)(m,2),f=d[0],b=d[1],h=function(){b(!0)};return r.a.createElement("li",{className:"custom-food-card",onClick:h,onKeyDown:function(e){!function(e){13===(e.charCode||e.keyCode)&&h()}(e)},role:"option","aria-selected":"false"},r.a.createElement("h2",{className:"custom-food-card-title"},"".concat(o).concat(""!==c?", ".concat(c):"")),r.a.createElement("p",{className:"custom-food-card-info"},"Calories: ".concat(s),r.a.createElement("br",null),"Proteins: ".concat(i," | Fats: ").concat(u," | Carbs: ").concat(l)),f&&r.a.createElement(rt,{isModalOpen:f,closeModal:function(e){e&&e.stopPropagation(),b(!1)},_id:a,prevName:o,prevBrand:c,prevCalories:s,prevProteins:i,prevFats:u,prevCarbs:l}))},ct=function(){var e=et(),t=e.inputText,a=e.setInputText,o=e.foods,c=Object(s.c)((function(e){return e.system.isLoading})),i=Object(n.useRef)(null);Object(n.useEffect)((function(){i.current.focus()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},r.a.createElement("header",{className:"options-container"},r.a.createElement("h1",{className:"page-title"},"Custom Foods"),r.a.createElement(Ze.DebounceInput,{minLength:0,type:"search",debounceTimeout:300,className:"custom-foods-search","aria-label":"Search food",placeholder:"Search food",value:t,inputRef:i,onChange:function(e){!function(e){var t=e.value;a(t)}(e.target)}})),r.a.createElement("ul",{className:"custom-foods-cards"},c?r.a.createElement(de,null):o.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(ot,{key:e._id,food:e})})))),r.a.createElement(We,null))},st=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},"Account Settings Page"),r.a.createElement(We,null))},it=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},"Preferences Page"),r.a.createElement(We,null))},ut=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"page"},"Statistics Page"),r.a.createElement(We,null))},lt=a(16),mt=function(){var e=Object(s.c)((function(e){return e.settingsMenu.isShown})),t=Object(s.c)((function(e){return e.user.loggedInUser})).username,a=Object(s.b)(),n=Object(i.f)(),o=function(){a(pe.hideMenu())};return r.a.createElement("aside",{className:"settings-menu ".concat(e?"settings-menu-shown":"")},r.a.createElement("header",{className:"settings-menu-header"},r.a.createElement("h2",{className:"settings-menu-title"},t),r.a.createElement("button",{className:"settings-menu-logout-button",type:"button",onClick:function(){o(),a(function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.logout();case 2:t(L(null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.push("/")},"aria-label":"Log out"})),r.a.createElement("nav",{className:"settings-menu-nav"},r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/user-settings",onClick:o},"User Settings"),r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/account-settings",onClick:o},"Account Settings"),r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/preferences",onClick:o},"Preferences"),r.a.createElement(lt.a,{className:"settings-menu-nav-link",to:"/statistics",onClick:o},"Statistics")),r.a.createElement(R,null))};a(230);var dt=function(){var e=Object(i.g)().pathname;return r.a.createElement("div",{className:"App"},"/"!==e&&r.a.createElement(mt,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:q}),r.a.createElement(i.a,{path:"/home",component:Be}),r.a.createElement(i.a,{path:"/eaten-food",component:Qe}),r.a.createElement(i.a,{path:"/add-eaten-food",component:nt}),r.a.createElement(i.a,{path:"/custom-foods",component:ct}),r.a.createElement(i.a,{path:"/user-settings",component:Ye}),r.a.createElement(i.a,{path:"/account-settings",component:st}),r.a.createElement(i.a,{path:"/preferences",component:it}),r.a.createElement(i.a,{path:"/statistics",component:ut})))},ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var bt=a(20),ht=a(89),gt={isLoading:!1},Et={loggedInUser:{}},vt={message:""},yt=a(40),Ot={eatenFoods:null},Nt={isShown:!1},jt={foods:[]},wt=Object(bt.c)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(h.a)(Object(h.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(h.a)(Object(h.a)({},e),{},{isLoading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(h.a)(Object(h.a)({},e),{},{loggedInUser:Object(h.a)({},t.user)});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_MESSAGE":return Object(h.a)(Object(h.a)({},e),{},{message:t.message});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_EATEN_FOODS":return Object(h.a)(Object(h.a)({},e),{},{eatenFoods:t.eatenFoods});case"ADD_EATEN_FOOD":return Object(h.a)(Object(h.a)({},e),{},{eatenFoods:[].concat(Object(yt.a)(e.eatenFoods),[t.newFood])});default:return e}},settingsMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SHOW_MENU":case"HIDE_MENU":return Object(h.a)(Object(h.a)({},e),{},{isShown:!1});case"TOGGLE_MENU":return Object(h.a)(Object(h.a)({},e),{},{isShown:!e.isShown});default:return e}},food:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FOODS":return Object(h.a)(Object(h.a)({},e),{},{foods:t.foods});case"ADD_CUSTOM_FOOD":return Object(h.a)(Object(h.a)({},e),{},{foods:[].concat(Object(yt.a)(e.foods),[t.newFood])});case"UPDATE_CUSTOM_FOOD":return Object(h.a)(Object(h.a)({},e),{},{foods:e.foods.map((function(e){return e._id===t.updatedFood._id?t.updatedFood:e}))});case"DELETE_CUSTOM_FOOD":return Object(h.a)(Object(h.a)({},e),{},{foods:e.foods.filter((function(e){return e._id!==t.foodId}))});default:return e}}}),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||bt.d,kt=Object(bt.e)(wt,Ct(Object(bt.a)(ht.a)));u.b.add(l.a,m.f,m.e,m.a,m.d,m.h,m.c,m.b,m.g),c.a.render(r.a.createElement(s.a,{store:kt},r.a.createElement(i.b,{history:f},r.a.createElement(dt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ft?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pt(t,e)}))}}()},92:function(e,t,a){e.exports=a(231)}},[[92,1,2]]]);
//# sourceMappingURL=main.541a3600.chunk.js.map